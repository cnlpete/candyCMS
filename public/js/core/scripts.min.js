function show(a){$(a).slideDown();if($("#js-flash_success")||$("#js-flash_error")){hide(a,10000)}}function hide(a,b){$(a).delay(b).slideUp()}$.fn.toggleOpacity=function(a){if(a){this.stop(true,true).animate({opacity:1})}else{this.stop(true,true).animate({opacity:0.25})}};function quote(e,b){var a=$("#js-create_commment_text");var f=a.val();var c=$("#"+b).html();var d="[quote="+e+"]"+c+"[/quote]\n";a.val(f+d);if($.mobile){$.mobile.silentScroll(a.offset().top)}return false}function stripNoAlphaChars(a){a=a.replace(/ /g,"_");a=a.replace(/Ä/g,"Ae");a=a.replace(/ä/g,"ae");a=a.replace(/Ö/g,"Oe");a=a.replace(/ö/g,"oe");a=a.replace(/Ü/g,"Ue");a=a.replace(/ü/g,"ue");a=a.replace(/ß/g,"ss");a=a.replace(/\W/g,"_");return a}function confirmDestroy(a){if(typeof b=="undefined"){var b={confirm_destroy:"Do you really want to destroy this entry?"}}if(confirm(b.confirm_destroy)){parent.location.href=a}}function countCharLength(b,a){var c=a-$(b).val().length;$(b).next().html(c)}function getSizeOfFiles(c){if(typeof window.FileReader!=="function"||!c.files||!c.files[0]){return 0}var d=0;var b=c.files.length;for(var a=0;a<b;a++){d=d+c.files[a].size}return d}function checkFileSize(c,b,a){var e=getSizeOfFiles(c[0]);var d=c.closest(".control-group");var f="file-input-help";if(e>b){d.addClass("alert alert-error");if($("#"+f).length){$("#"+f).removeClass("invisible")}else{var g=$('<span class="help-inline" id="'+f+'">'+a+"</span>");c.after(g)}}else{$("#"+f).fadeOut(function(){$(this).remove();if(!d.find(".help-inline").length){d.removeClass("alert alert-error")}})}}var iCounter=0;function enableInfiniteScroll(a,b,c){$(a).infinitescroll({navSelector:"div.pagination",nextSelector:"div.pagination a:first",itemSelector:b,loading:{msgText:"",img:"{$_PATH.images}/candy.global/loading.gif",finishedMsg:"",selector:"div.js-pagination",finished:function(e){e.loading.msg.fadeOut(e.loading.speed);iCounter=iCounter+1;if(iCounter%c==0){e.contentSelector.infinitescroll("pause");var d=$('<a alt="{$lang.pages.more}" data-role="button" class="btn">{$lang.pages.more}</a>');d.click(function(){$(this).fadeOut(e.loading.speed,function(){e.contentSelector.infinitescroll("resume")})});$(e.loading.selector).append(d)}return true}},animate:true})}if($("#js-flash_success").length||$("#js-flash_error").length){show("#js-flash_message")}$("#js-flash_success").click(function(){hide(this,0)});$("#js-flash_error").click(function(){hide(this,0)});$("#js-flash_warning").click(function(){hide(this,0)});if($(".js-tooltip").length){$(".js-tooltip").tooltip()}if($("p.error").length){$("p.error").tooltip()};